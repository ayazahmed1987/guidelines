<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Packages, Commands and Quires</title>
<style>
body {
font-family: "Segoe UI", sans-serif;
background-color: #f0f0f0;
padding: 30px;
color: #333;
} 

h1 {
text-align: center;
color: #6f42c1;
}

h2 {
margin-top: 40px;
color: #444;
border-bottom: 2px solid #ccc;
padding-bottom: 5px;
}

pre {
background-color: #1e1e1e;
color: #d4d4d4;
padding: 15px;
overflow-x: auto;
border-radius: 5px;
position: relative;
}

code {
font-family: Consolas, monospace;
white-space: pre-wrap;
}

.section {
margin-bottom: 40px;
}

.copy-btn {
position: absolute;
top: 10px;
right: 10px;
padding: 5px 10px;
font-size: 12px;
background-color: #28a745;
color: white;
border: none;
border-radius: 3px;
cursor: pointer;
}

.copy-btn:hover {
background-color: #218838;
}
</style>
</head>

<body>
<h1>üõ† Packages, Commands and Quires</h1>
<div class="section">
<h2>üì¶ Packages List</h2>
<pre><button class="copy-btn">Copy</button><code>
composer require barryvdh/laravel-dompdf
composer require google/apiclient
composer require guzzlehttp/guzzle
composer require ixudra/curl
composer require laravel/framework
composer require laravel/helpers
composer require laravel/sanctum
composer require laravel/socialite
composer require laravel/tinker
composer require laravel/ui
composer require laravelcollective/html
composer require livewire/livewire
composer require maatwebsite/excel
composer require mailgun/mailgun-php
composer require mcamara/laravel-localization
composer require mews/captcha
composer require nnjeim/world
composer require simplesoftwareio/simple-qrcode
composer require yajra/laravel-datatables-buttons
composer require yajra/laravel-datatables-oracle
composer require dompdf/dompdf
composer require fideloper/proxy
composer require fruitcake/laravel-cors
composer require twilio/sdk
composer require yadahan/laravel-authentication-log
composer require pestphp/pest
composer require pestphp/pest-plugin-laravel
composer require hisorange/browser-detect
composer require tonysm/rich-text-laravel
composer require barryvdh/laravel-debugbar --dev
</code></pre>

<h2>üì¶ Spatie Packages List</h2>
<pre><button class="copy-btn">Copy</button><code>
composer require spatie/laravel-html
composer require spatie/laravel-permission
composer require spatie/laravel-activitylog
composer require spatie/laravel-medialibrary
composer require spatie/laravel-sitemap
composer require spatie/laravel-sluggable
composer require spatie/laravel-responsecache
composer require spatie/simple-excel
composer require spatie/laravel-ignition
</code></pre>

<h2>üì¶ Swagger (OpenAPI) docs in Laravel, the best package is L5-Swagger</h2>
<pre><button class="copy-btn">Copy</button><code>
üöÄ Install L5-Swagger in Laravel
composer require "darkaonline/l5-swagger"

üìå Publish Config & Views
php artisan vendor:publish --provider "L5Swagger\L5SwaggerServiceProvider"

This will create a config file at:
config/l5-swagger.php

‚öôÔ∏è Configuration
In .env, add:
L5_SWAGGER_GENERATE_ALWAYS=true
L5_SWAGGER_CONST_HOST=http://localhost:8000


Now Swagger docs will always regenerate when you access the docs URL.
(Change host according to your app domain.)

üñä Add Swagger Annotations
You can add OpenAPI annotations in controllers or models.
Example for a User API controller:

&lt;?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use Illuminate\Http\Request;

/**
 * @OA\Info(
 *      version="1.0.0",
 *      title="Laravel API Swagger Docs",
 *      description="API documentation with Swagger"
 * )
 */
class UserController extends Controller
{
    /**
     * @OA\Get(
     *      path="/api/users",
     *      operationId="getUsersList",
     *      tags={"Users"},
     *      summary="Get list of users",
     *      description="Returns list of users",
     *      @OA\Response(
     *          response=200,
     *          description="Successful operation"
     *       )
     *     )
     */
    public function index()
    {
        return response()->json([
            ['id' => 1, 'name' => 'John Doe'],
            ['id' => 2, 'name' => 'Jane Doe'],
        ]);
    }
}

üîÑ Generate Documentation

Run:
php artisan l5-swagger:generate

üåê Access Swagger UI
Open in browser:

http://your-app.test/api/documentation
</code></pre>
</div>


<div class="section">
<h2>üìö Commands</h2>

<h4>üóÉÔ∏è Special Commands</h4>
<pre><button class="copy-btn">Copy</button><code>
php artisan media-library:clean
php artisan media-library:clear
php artisan media-library:regenerate
php artisan responsecache:clear
</code></pre>

<h4>üóÉÔ∏è Migration</h4>
<pre><button class="copy-btn">Copy</button><code>
php artisan migrate
php artisan migrate:refresh
php artisan make:migration create_media_table
php artisan make:model Post -mc
</code></pre>

</div>

<div class="section">
<h2>üìö Linux Commands</h2>
<h4>üóÉÔ∏è Memory/Disk Usage</h4>
<pre><button class="copy-btn">Copy</button><code>
Path
pwd

Check memory
free -m

Clear linux Server Cache
sync; echo 1 > /proc/sys/vm/drop_caches

Check disk usage
df -h

df -g
du -sch *
</code></pre>
<h4>üóÉÔ∏è Permission</h4>
<pre><button class="copy-btn">Copy</button><code>
find . -type f -exec chmod 644 {} \;              // 644 permission for files
find . -type d -exec chmod 755 {} \;              // 755 permission for directory 
find ./var -type d -exec chmod 777 {} \;          // 777 permission for var folder    
find ./pub/media -type d -exec chmod 777 {} \;
find ./pub/static -type d -exec chmod 777 {} \;
chmod 777 ./app/etc
chmod 644 ./app/etc/*.xml
chown -R :<web server group> .
chmod u+x bin/magento
chown -R :<home/richyemarket/public_html> .
chown -R :<home/getblanktees/public_html> .
 
==============================
find ./pub/media/catalog/product -type d -exec chmod 777 {} \;
find ./pub/media/catalog/product -type f -exec chmod 777 {} \;
</code></pre>
<h4>üóÉÔ∏è Backup/Dump</h4>
<pre><button class="copy-btn">Copy</button><code>
unzip static-09-07-2020.zip
zip -r static-09-07-2020.zip static
zip -r api-29-08-2025.zip api
rm -Rf iworx-backup

mysqldump -u [user name] -p[password] [database name] > [dump file]
mysqldump -u m2com_awaami -p123Pakistan786 m2com_awaami > database-awaami-command-31-01-2020.sql  //Its Working

Restoring a Backup
mysql server2_richy < database-richy-new-website-command-02-11-2017.sql
mysql -u wpstaging_magnifi15august2025 -p  wpstaging_magnifi15august2025 < databasemagnifiscience.sql

mysql wpstaging_magnifi15august2025 < /home/wpstaging/public_html/magnifiscience-new/database/magnifiscience.sql
mysql -u wpstaging_magnifi15august2025 -p  wpstaging_magnifi15august2025 < /home/wpstaging/public_html/magnifiscience-new/database/magnifiscience.sql

ls -lh /home/wpstaging/public_html/magnifiscience-new/database
mysql -u wpstaging_magnifi15august2025 -p wpstaging_magnifi15august2025 < /home/wpstaging/public_html/magnifiscience-new/database/magnifiscience.sql
mysql -u wpstaging_magnifi15august2025 -p -e "SHOW DATABASES LIKE 'wpstaging_magnifi15august2025';"

working
mysql -u wpstaging_magnifi15august2025 -p wpstaging_magnifi15august2025 < /home/wpstaging/public_html/magnifiscience-new/database/magnifiscience.sql
mysql -u wpstaging_magnifi15august2025 -p wpstaging_magnifi15august2025 < /home/wpstaging/public_html/magnifiscience-new/database/parta.sql
mysql -u wpstaging_magnifi15august2025 -p wpstaging_magnifi15august2025 < magnifiscience.sql.sql

Copy and replace Command
========================
cp -r medianew.zip /home/ace72c41/tsmco.com.pk/html/pub/
cp -r appnew.zip /home/ace72c41/tsmco.com.pk/html/
cp -r /home/ace72c41/tsmco.com.pk/html/app-new/code/Safepay /home/ace72c41/tsmco.com.pk/html/app/code/
cp -r /home/ace72c41/tsmco.com.pk/html/app-new/code /home/ace72c41/tsmco.com.pk/html/app/

Move Folder Cammand
===================
$ mv -v /home/ace72c41/tsmco.com.pk/html-live-ayis-damage/ /home/ace72c41/tsmco.com.pk/html/
$ mv -v dir1 dir2 /path/to/dest/     (Multi Dir Move)
</code></pre>

<h4>üóÉÔ∏è Spilting Large Data Into Chunck Data</h4>
<pre><button class="copy-btn">Copy</button><code>
//Split the 53GB File into 10GB Parts 
Command
split -b 10G pspc-31july2025.zip pspc_07august2025_

What it does:
-b 10G: Splits into chunks of 10GB.

pspc-31july2025.zip: Your original 53GB file.

pspc_31july_: Prefix for output files. This will create files like:
pspc_31july_aa
pspc_31july_ab
pspc_31july_ac


//To combine the files back into a single .zip:
Command
cat pspc_31july_* > pspc-31july2025-merged.zip


Optional: Verify Integrity
You can use md5sum to generate a checksum before splitting and after merging:

Command
md5sum pspc-31july2025.zip

# after merging
Command
md5sum pspc-31july2025-merged.zip

If both checksums match, the merge was perfect.
</code></pre>

<h4>üóÉÔ∏è Laravel ENV</h4>
<pre><button class="copy-btn">Copy</button><code>
//smtp gmail 
MAIL_MAILER=sendmail
MAIL_HOST=smtp.gmail.com
MAIL_PORT=465
MAIL_USERNAME=my-email@gmail.com
MAIL_PASSWORD=*****
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS=ayaz.a2zcreatorz@gmail.com
MAIL_FROM_NAME="${APP_NAME}"


APP_NAME=AYIS
APP_ENV=local
APP_KEY=base64:s+mtcr0asxh6iaKqkYyTkxPkEYwWG4EhRxOiOsOD345=
APP_DEBUG=true
APP_URL=https://abc.com
ASSET_URL=https://abc.com/public
APP_TIMEZONE='Asia/Karachi'

LOG_CHANNEL=stack
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=database
DB_USERNAME=root
DB_PASSWORD=pass

DB_AGENT=agentdbnew

DB_DIGITAL=admin_beta
DB_DIGITAL_USERNAME=betdigi
DB_DIGITAL_PASSWORD=91*Dd0sh5

# üëá Extra safety + performance options
DB_POOLING=true
DB_RECONNECT=true

# Reduce idle timeout (MySQL closes idle connections)
DB_SOCKET_TIMEOUT=30
DB_CONNECT_TIMEOUT=10

# Persistent connection support (optional, for shared hosting)
DB_PERSISTENT=true

# Make sure Laravel reconnects automatically if MySQL drops connection
DB_RETRY_ON_FAILURE=true

BROADCAST_DRIVER=log
CACHE_DRIVER=file
FILESYSTEM_DISK=local
QUEUE_CONNECTION=sync
SESSION_DRIVER=file
SESSION_LIFETIME=120

MEMCACHED_HOST=127.0.0.1

REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

MAIL_MAILER=smtp
MAIL_HOST=secure.emailsrvr.com
MAIL_PORT=465
MAIL_USERNAME='noreply@abc.com'
MAIL_PASSWORD='347d2wgehdf#cdfg'
MAIL_ENCRYPTION=ssl
MAIL_FROM_ADDRESS=noreply@abc.com
MAIL_FROM_NAME="${APP_NAME}" 
	

AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

PUSHER_APP_ID=
PUSHER_APP_KEY=
PUSHER_APP_SECRET=
PUSHER_HOST=
PUSHER_PORT=443
PUSHER_SCHEME=https
PUSHER_APP_CLUSTER=mt1

VITE_APP_NAME="${APP_NAME}"
VITE_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
VITE_PUSHER_HOST="${PUSHER_HOST}"
VITE_PUSHER_PORT="${PUSHER_PORT}"
VITE_PUSHER_SCHEME="${PUSHER_SCHEME}"
VITE_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"




</code></pre>

<h4>üóÉÔ∏è Laravel VIEW Service Provider</h4>
<pre><button class="copy-btn">Copy</button><code>
namespace App\Providers;

use Illuminate\Support\ServiceProvider;
use Illuminate\Support\Facades\View;
use Illuminate\Support\Facades\Cache;
use App\Models\Menu;
use App\Models\CustomPost;

class ViewServiceProvider extends ServiceProvider
{
    public function boot()
    {
        
		/* If you need the same data on multiple views, you can use a wildcard:
		View::composer(['frontend.partials.sidebar', 'frontend.partials.footer'], function ($view) {
           $view->with('posts', CustomPost::where('status', 1)->get());
        });
		*/
		
		View::composer('frontend.partials.header', function ($view) {
            Cache::forget('menu_items');
            $menus = Cache::remember('menu_items', now()->addHours(2), function () {
                return Menu::whereNull('parent_id')
                    ->with('children')
                    ->where('type', 1)
                    ->active()
                    ->orderBy('sorting')
                    ->get();
            });
            $view->with('menus', $menus);
        });
		
		/*
        View::composer('frontend.partials.footer', function ($view) {
            Cache::forget('footer_menu_items');
            $menus = Cache::remember('footer_menu_items', now()->addHours(2), function () {
                return Menu::whereNull('parent_id')
                    ->with('children')
                    ->where('type', 2)
                    ->active()
                    ->orderBy('sorting')
                    ->get();
            });
            $view->with('menus', $menus);
        });
		*/
		
		
	View::composer('frontend.partials.footer', function ($view) {
    $menuTypes = [
        'footer_menu_2' => 2,
        'footer_menu_3'   => 3,
    ];

    $menus = [];
    foreach ($menuTypes as $key => $type) {
        Cache::forget($key);
        $menus[$key] = Cache::remember($key, now()->addMinutes(5), function () use ($type) {
            return Menu::whereNull('parent_id')
                //->with('children')
                ->where('type', $type)
                ->active()
                ->orderBy('sorting')
                ->get();
        });
    }

    // Share menus with the view
    $view->with('footer_menus', $menus);
    });
		
		
		
		
		View::composer('backend.partials.sidebar', function ($view) {
			$customposts = CustomPost::where('status', 1)->get();
			$view->with('customposts', $customposts);
		});
		
		
    }
}

</code></pre>

<h4>üóÉÔ∏è Laravel RouteServiceProvider</h4>
<pre><button class="copy-btn">Copy</button><code>
namespace App\Providers;

use Illuminate\Support\Facades\Route;
use Illuminate\Support\ServiceProvider;

class RouteServiceProvider extends ServiceProvider
{
    /**
     * Register services.
     */
    public function register(): void
    {
        //
    }

    /**
     * Bootstrap services.
     */
    public function boot(): void
    {
        // Default web routes
        //Route::middleware('web')
            //->group(base_path('routes/web.php'));

        // Default API routes (optional)
        //Route::middleware('api')
            //->prefix('api')
            //->group(base_path('routes/api.php'));

        // ‚úÖ Custom admin routes
        Route::middleware('web')->prefix('manager') //['web', 'auth'] //a2zxpspc@123
		//Route::prefix('manager')
            ->name('manager.')
            ->group(base_path('routes/admin.php'));
    }
}


</code></pre>

<h4>üóÉÔ∏è Laravel Search Function</h4>
<pre><button class="copy-btn">Copy</button><code>
public function searchdata(Request $request){
    $query = trim($request->input('q'));

    // If query empty ‚Üí return blank view
    if (!$query) {
        $results = collect(); // use collection for consistency
        return view('frontend.searchresult', compact('results', 'query'));
    }

    /** -------------------------------
     * 1Ô∏è‚É£  PAGES
     * ------------------------------*/
    $pages = Page::select('id', 'title', 'slug', 'description')
        ->where(function ($q) use ($query) {
            $q->where('title', 'like', "%{$query}%")
              ->orWhere('description', 'like', "%{$query}%");
        })
        ->get()
        ->map(function ($item) {
            return (object) [
                'title' => $item->title,
                'type'  => 'page',
                'url'   => route('website.page.show', $item->slug),
            ];
        });


    /** -------------------------------
     * 2Ô∏è‚É£  CUSTOM POST DATA ‚Äî NEWS/EVENT
     * ------------------------------*/
    $news_event = CustomPostData::select('id', 'custom_post_id', 'fields_data')
        ->where('custom_post_id', 2)
        ->get()
        ->filter(function ($item) use ($query) {
            $title = data_get($item->fields_data, 'title', '');
            $desc  = data_get($item->fields_data, 'description', '');
            return str_contains(strtolower($title . ' ' . $desc), strtolower($query));
        })
        ->map(function ($item) {
            $title = data_get($item->fields_data, 'title', '');
            return (object) [
                'title' => $title,
                'type'  => 'news',
                'url'   => route('website.post.show', [$item->id, Str::slug($title)]),
            ];
        });


    /** -------------------------------
     * 3Ô∏è‚É£  CUSTOM POST DATA ‚Äî TEAMS
     * ------------------------------*/
    $teams = CustomPostData::select('id', 'custom_post_id', 'fields_data')
        ->where('custom_post_id', 4)
        ->get()
        ->filter(function ($item) use ($query) {
            $name    = data_get($item->fields_data, 'name', '');
            $content = data_get($item->fields_data, 'content', '');
            return str_contains(strtolower($name . ' ' . $content), strtolower($query));
        })
        ->map(function ($item) {
            $name = data_get($item->fields_data, 'name', '');
            return (object) [
                'title' => $name,
                'type'  => 'teams',
                'url'   => route('website.post.show', [$item->id, Str::slug($name)]),
            ];
        });


    /** -------------------------------
     * 4Ô∏è‚É£  Combine All Results
     * ------------------------------*/
    $results = $pages->concat($news_event)->concat($teams);

    return view('frontend.searchresult', compact('results', 'query'));
    }


</code></pre>

<h4>üóÉÔ∏è Laravel Helper Function</h4>
<pre><button class="copy-btn">Copy</button><code>
if(!function_exists('FormatLink'))
{
    function FormatLink($link) {
        if (Str::startsWith($link, 'route:')) {
            try{
                $parts = explode('||', $link);
                $routeName = Str::after(array_shift($parts), 'route:');
                return route($routeName, $parts[0]);
            }catch(\Exception $e){
                return "#";
            }
        }
        return $link;
    }
}

if (!function_exists('vrc_committee_members')) {
    function vrc_committee_members()
    {
        $cacheKey = "vrc_committee_members";

        return Cache::remember($cacheKey, now()->addMinutes(5), function () {
            return DB::table('vrc_committee')->count();
        });
    }
}


if(!function_exists('pre_print'))
{
function pre_print($data)
{
    echo '<pre>';
    print_r(json_decode(json_encode($data)));
    exit;
}
}


</code></pre>

</div>


<script>
// Copy button functionality
document.querySelectorAll(".copy-btn").forEach((button) => {
button.addEventListener("click", () => {
const code = button.nextElementSibling.innerText;
navigator.clipboard.writeText(code).then(() => {
button.innerText = "Copied!";
setTimeout(() => (button.innerText = "Copy"), 1500);
});
});
});
</script>
</body>
</html>